'use strict';var $=$||{};
$.dom=function(){function h(a){d[a]||(d[a]=document.getElementById(a),d[a]||$.throwf("element not found: #%s",a));return d[a]}function g(a){return"string"===typeof a?h(a):a}function k(a,b){let e=window.getComputedStyle(g(a),null);return 2>arguments.length?e:e[b]}function l(a,b){g(a).classList.add(b)}function m(a,b){g(a).classList.remove(b)}function q(a,b){return g(a).classList.contains(b)}function n(a,b){a=g(a);if(2>arguments.length)return a.disabled;a.disabled=b}function c(a,b){if(2>arguments.length)return q(a,
"hidden");b?l(a,"hidden"):m(a,"hidden")}function f(a){if(a.nodeType!==Node.TEXT_NODE){var b=a.getAttribute("id");b in d&&delete d[b];a.querySelectorAll("[id]").forEach(function(e){b=e.getAttribute("id");b in d&&delete d[b]})}}let d={};return{"class":{add:l,remove:m,test:q,toggle:function(a,b){a=g(a).classList;a.contains(b)?a.remove(b):a.add(b)}},all:function(a,b){if(2>arguments.length)return document.querySelectorAll(a).length;document.querySelectorAll(a).forEach(b)},append:function(a){a=g(a);for(let b=
1;b<arguments.length;b++)a.appendChild(g(arguments[b]))},attr:function(a,b,e){a=g(a);if(3>arguments.length)return a.getAttribute(b);a.setAttribute(b,e)},children:function(a,b){let e=g(a).children;if(2>arguments.length)return e.length;for(let p=0;p<e.length;p++)b(e[p],p)},create:function(a){let b=document.createElement(a);for(let e=1;e<arguments.length;e++){let p=arguments[e];if("string"===typeof p)b.classList.add(p);else if(p instanceof Array)for(let r=0;r<p.length;r++)b.classList.add(p[r]);else for(let r in p)Object.prototype.hasOwnProperty.call(p,
r)&&b.setAttribute(r,p[r])}return b},css:k,disable:function(a){n(a,!0)},disabled:n,empty:function(a){a=g(a);let b=0;for(;a.firstChild;)f(a.firstChild),a.removeChild(a.firstChild),b++;return b},enable:function(a){n(a,!1)},first:function(a){return document.querySelector(a)},fullscreen:function(a){var b=document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement;if(1>arguments.length)return b?!0:!1;a&&!b?(b=document.documentElement,b.requestFullscreen?b.requestFullscreen():
b.mozRequestFullScreen?b.mozRequestFullScreen():b.webkitRequestFullscreen?b.webkitRequestFullscreen():b.msRequestFullscreen&&b.msRequestFullscreen()):b&&!a&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen())},get:h,height:function(a,b){a=g(a);if(2>arguments.length)return parseFloat(k(a,"height").replace("px",""));a.style.height=
b+"px"},hidden:c,hide:function(a){c(a,!0)},id:function(a,b){a=g(a);if(2>arguments.length)return a.getAttribute("id");a.setAttribute("id",b)},index:function(a){a=g(a);let b=0;for(;a.previousSibling;)a=a.previousSibling,b++;return b},left:function(a,b){a=g(a);if(2>arguments.length)return a.offsetLeft;a.style.left=b+"px"},on:function(a,b,e){a=g(a);let p=Array.prototype.slice.call(arguments,2);a.addEventListener(b,function(r){let t=p.slice(0);t[0]=r;e.apply(null,t)})},prepend:function(a){a=g(a);for(let b=
1;b<arguments.length;b++)a.insertBefore(g(arguments[b]),a.firstChild)},remove:function(a){a=g(a);f(a);a.parentNode&&a.parentNode.removeChild(a)},reparent:function(a,b){a=g(a);b=g(b);if(a.parentNode){if(a.parentNode.isSameNode(b))return!1;a.parentNode.removeChild(a)}b.appendChild(a);return!0},show:function(a){c(a,!1)},text:function(a,b){a=g(a);if(2>arguments.length)return a.textContent;a.textContent=b},top:function(a,b){a=g(a);if(2>arguments.length)return a.offsetTop;a.style.top=b+"px"},width:function(a,
b){a=g(a);if(2>arguments.length)return parseFloat(k(a,"width").replace("px",""));a.style.width=b+"px"}}}();$.map_empty=function(h){for(let g in h)if(Object.prototype.hasOwnProperty.call(h,g))return!1;return!0};$.map_each=function(h,g){for(let k in h)Object.prototype.hasOwnProperty.call(h,k)&&g(k,h[k])};$.map_clone=function(h){let g={};for(let k in h)Object.prototype.hasOwnProperty.call(h,k)&&(g[k]=h[k]);return g};
$.map_keys=function(h){let g=[];for(let k in h)Object.prototype.hasOwnProperty.call(h,k)&&g.push(k);return g};$.map_values=function(h){let g=[];for(let k in h)Object.prototype.hasOwnProperty.call(h,k)&&g.push(h[k]);return g};$.map_increment=function(h,g){g in h?h[g]++:h[g]=1};
$.md5=function(){function h(c,f){let d=(c&65535)+(f&65535);return(c>>16)+(f>>16)+(d>>16)<<16|d&65535}function g(c,f,d,a,b,e){c=h(h(f,c),h(a,e));return h(c<<b|c>>>32-b,d)}function k(c,f,d,a,b,e,p){return g(f&d|~f&a,c,f,b,e,p)}function l(c,f,d,a,b,e,p){return g(f&a|d&~a,c,f,b,e,p)}function m(c,f,d,a,b,e,p){return g(d^(f|~a),c,f,b,e,p)}function q(c){let f="",d;for(let a=0;a<c.length;a++)d=c.charCodeAt(a),f+="0123456789abcdef".charAt(d>>>4&15)+"0123456789abcdef".charAt(d&15);return f}function n(c){var f=
Array(c.length>>2);for(var d=0;d<f.length;d++)f[d]=0;for(d=0;d<8*c.length;d+=8)f[d>>5]|=(c.charCodeAt(d/8)&255)<<d%32;c=8*c.length;f[c>>5]|=128<<c%32;f[(c+64>>>9<<4)+14]=c;c=1732584193;d=-271733879;let a=-1732584194,b=271733878;for(let e=0;e<f.length;e+=16){let p=c,r=d,t=a,u=b;c=k(c,d,a,b,f[e+0],7,-680876936);b=k(b,c,d,a,f[e+1],12,-389564586);a=k(a,b,c,d,f[e+2],17,606105819);d=k(d,a,b,c,f[e+3],22,-1044525330);c=k(c,d,a,b,f[e+4],7,-176418897);b=k(b,c,d,a,f[e+5],12,1200080426);a=k(a,b,c,d,f[e+6],17,
-1473231341);d=k(d,a,b,c,f[e+7],22,-45705983);c=k(c,d,a,b,f[e+8],7,1770035416);b=k(b,c,d,a,f[e+9],12,-1958414417);a=k(a,b,c,d,f[e+10],17,-42063);d=k(d,a,b,c,f[e+11],22,-1990404162);c=k(c,d,a,b,f[e+12],7,1804603682);b=k(b,c,d,a,f[e+13],12,-40341101);a=k(a,b,c,d,f[e+14],17,-1502002290);d=k(d,a,b,c,f[e+15],22,1236535329);c=l(c,d,a,b,f[e+1],5,-165796510);b=l(b,c,d,a,f[e+6],9,-1069501632);a=l(a,b,c,d,f[e+11],14,643717713);d=l(d,a,b,c,f[e+0],20,-373897302);c=l(c,d,a,b,f[e+5],5,-701558691);b=l(b,c,d,a,f[e+
10],9,38016083);a=l(a,b,c,d,f[e+15],14,-660478335);d=l(d,a,b,c,f[e+4],20,-405537848);c=l(c,d,a,b,f[e+9],5,568446438);b=l(b,c,d,a,f[e+14],9,-1019803690);a=l(a,b,c,d,f[e+3],14,-187363961);d=l(d,a,b,c,f[e+8],20,1163531501);c=l(c,d,a,b,f[e+13],5,-1444681467);b=l(b,c,d,a,f[e+2],9,-51403784);a=l(a,b,c,d,f[e+7],14,1735328473);d=l(d,a,b,c,f[e+12],20,-1926607734);c=g(d^a^b,c,d,f[e+5],4,-378558);b=g(c^d^a,b,c,f[e+8],11,-2022574463);a=g(b^c^d,a,b,f[e+11],16,1839030562);d=g(a^b^c,d,a,f[e+14],23,-35309556);c=
g(d^a^b,c,d,f[e+1],4,-1530992060);b=g(c^d^a,b,c,f[e+4],11,1272893353);a=g(b^c^d,a,b,f[e+7],16,-155497632);d=g(a^b^c,d,a,f[e+10],23,-1094730640);c=g(d^a^b,c,d,f[e+13],4,681279174);b=g(c^d^a,b,c,f[e+0],11,-358537222);a=g(b^c^d,a,b,f[e+3],16,-722521979);d=g(a^b^c,d,a,f[e+6],23,76029189);c=g(d^a^b,c,d,f[e+9],4,-640364487);b=g(c^d^a,b,c,f[e+12],11,-421815835);a=g(b^c^d,a,b,f[e+15],16,530742520);d=g(a^b^c,d,a,f[e+2],23,-995338651);c=m(c,d,a,b,f[e+0],6,-198630844);b=m(b,c,d,a,f[e+7],10,1126891415);a=m(a,
b,c,d,f[e+14],15,-1416354905);d=m(d,a,b,c,f[e+5],21,-57434055);c=m(c,d,a,b,f[e+12],6,1700485571);b=m(b,c,d,a,f[e+3],10,-1894986606);a=m(a,b,c,d,f[e+10],15,-1051523);d=m(d,a,b,c,f[e+1],21,-2054922799);c=m(c,d,a,b,f[e+8],6,1873313359);b=m(b,c,d,a,f[e+15],10,-30611744);a=m(a,b,c,d,f[e+6],15,-1560198380);d=m(d,a,b,c,f[e+13],21,1309151649);c=m(c,d,a,b,f[e+4],6,-145523070);b=m(b,c,d,a,f[e+11],10,-1120210379);a=m(a,b,c,d,f[e+2],15,718787259);d=m(d,a,b,c,f[e+9],21,-343485551);c=h(c,p);d=h(d,r);a=h(a,t);b=
h(b,u)}f=[c,d,a,b];c="";for(d=0;d<32*f.length;d+=8)c+=String.fromCharCode(f[d>>5]>>>d%32&255);return c}return{b64:function(c){c=n(c);let f="",d=c.length;for(let a=0;a<d;a+=3){let b=c.charCodeAt(a)<<16|(a+1<d?c.charCodeAt(a+1)<<8:0)|(a+2<d?c.charCodeAt(a+2):0);for(let e=0;4>e;e++)f=8*a+6*e>8*c.length?f+"":f+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(b>>>6*(3-e)&63)}return f},hex:function(c){return q(n(c))},test:function(){let c=q(n("abc"));"900150983cd24fb0d6963f7d28e17f72"!==
c&&$.throwf("MD5 self test failed: %s <> %s","900150983cd24fb0d6963f7d28e17f72",c);return"ok"}}}();
$.param=function(){let h,g;return{get:function(k){return h[k]},parse:function(){var k=window.location.search;if(!(1>=k.length)){k=k.substring(1).split("&");for(let l=0;l<k.length;l++){let m=k[l].split("=");2!=m.length&&$.throwf("unexpected parameter: %s",k);let q=decodeURI(m[1]);m[0]in g||$.throwf("unexpected parameter: %s",k);let n=typeof g[m[0]];"boolean"===n?h[m[0]]="false"!==q&&q?!0:!1:"number"===n?h[m[0]]=Number(q):"string"===n&&(h[m[0]]=q)}}},setup:function(k){h={};g=k;for(let l in g)h[l]=g[l]}}}();
$.shuffle=function(h){let g,k,l;for(g=h.length-1;0<g;g--)k=Math.floor(Math.random()*(g+1)),l=h[g],h[g]=h[k],h[k]=l};
$.sprintf=function(){const h=/[def]/,g=/^\x25(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosxX])/,k=/[^s]/,l=/^\x25{2}/,m=/^[^\x25]+/;let q={};return function(n){if(!q[n]){for(var c=n,f,d=[];c;){if(null!==(f=m.exec(c)))d.push(f[0]);else if(null!==(f=l.exec(c)))d.push("%");else if(null!==(f=g.exec(c)))d.push(f);else throw"$.sprintf: unexpected format: "+c;c=c.substring(f[0].length)}q[n]=d}c=q[n];f=arguments;d=1;let a,b=[],e;let p;for(let t=0;t<c.length;t++)if(c[t]instanceof Array){e=c[t];a=f[d++];if(k.test(e[6])&&
"number"!==typeof a)throw"$.sprintf: expecting number but got "+typeof a;switch(e[6]){case "b":a=a.toString(2);break;case "c":a=String.fromCharCode(a);break;case "d":a=parseInt(a,10);break;case "e":a=e[5]?a.toExponential(e[5]):a.toExponential();break;case "f":a=e[5]?parseFloat(a).toFixed(e[5]):parseFloat(a);break;case "o":a=a.toString(8);break;case "s":a=String(a);a=e[5]?a.substring(0,e[5]):a;break;case "x":a=a.toString(16);break;case "X":a=a.toString(16).toUpperCase()}a=h.test(e[6])&&e[1]&&0<=a?
"+"+a:a;var r=e[2]?"0"===e[2]?"0":e[2].charAt(1):" ";p=e[4]-String(a).length;r=e[4]?Array(p+1).join(r):"";b.push(e[3]?a+r:r+a)}else b.push(c[t]);return b.join("")}}();$.throwf=function(){throw $.sprintf.apply(null,arguments);};$.timestamp=function(h){h||(h=new Date);return $.sprintf("%d/%02d/%02d-%02d:%02d:%02d",h.getFullYear(),h.getMonth()+1,h.getDate(),h.getHours(),h.getMinutes(),h.getSeconds())};
$.typeof=function(h){let g=typeof h;return"object"!==g?g:Object.prototype.toString.call(h).slice(8,-1)};$.ucfirst=function(h){return h.charAt(0).toUpperCase()+h.slice(1)};
$.when=function(){function h(g,k,l,m,q){let n=new XMLHttpRequest;q||(q=function(c){$.throwf("%s %s failed: %s",g,k,c)});n.addEventListener("load",function(){if(200<=n.status&&400>n.status)try{m(JSON.parse(n.response))}catch(c){q(c)}else q(n.statusText||n.status)});n.addEventListener("error",function(){q(n.responseText||"error")});n.addEventListener("abort",function(){q("abort")});n.open(g,k,!0);l?(n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(l))):n.send()}return{json_get:function(g,
k,l){h("GET",g,null,k,l)},json_post:function(g,k,l,m){h("POST",g,k,l,m)},ready:function(g){document.addEventListener("DOMContentLoaded",g)}}}();
